(function(){"use strict";var t={6766:function(t,a,e){var l=e(6116),n=e(5979);const i={id:"app"};function o(t,a,e,l,o,d){const r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(r)])}var d={name:"App"},r=e(7759);const u=(0,r.Z)(d,[["render",o]]);var s=u,p=e(787),_=(e(5036),e(7579)),c=e(7117);const m={class:"hello",style:{"min-width":"1450px"}},h=(0,n._)("div",null,"Top10算力拥有者",-1),f={style:{margin:"16px"}},w={style:{margin:"16px"}},v=(0,n._)("div",null,"Top10 质押者",-1),g=(0,n._)("div",{style:{"margin-top":"24px"}},"V值历史曲线",-1),b=(0,n._)("div",{id:"v-charts",style:{width:"100%",height:"400px"}},null,-1),y=(0,n._)("div",{style:{"margin-top":"24px"}},"质押历史曲线(kw)",-1),k=(0,n._)("div",{id:"stake-charts",style:{width:"100%",height:"400px"}},null,-1),W=(0,n._)("div",{style:{"margin-top":"24px"}},"机器数量历史曲线",-1),x=(0,n._)("div",{id:"mechine-charts",style:{width:"100%",height:"400px"}},null,-1),F=(0,n._)("div",{style:{"margin-top":"24px"}},"机器拥有者历史曲线",-1),S=(0,n._)("div",{id:"owner-charts",style:{width:"100%",height:"400px"}},null,-1),V=(0,n._)("div",{style:{"margin-top":"24px"}},"机器列表",-1),O=(0,n.Uk)("使用PID条件"),E=(0,n._)("div",{style:{"line-height":"32px","margin-left":"24px"}},"pid:",-1),M=(0,n.Uk)("使用机器状态条件"),z=(0,n._)("div",{style:{"line-height":"32px","margin-left":"24px"}},"机器状态:",-1),U=(0,n.Uk)("使用pubkey条件"),C=(0,n._)("div",{style:{"line-height":"32px","margin-left":"24px"}},"pubkey:",-1),D=(0,n.Uk)("查询");function L(t,a,e,l,i,o){const d=(0,n.up)("el-col"),r=(0,n.up)("el-row"),u=(0,n.up)("el-card"),s=(0,n.up)("el-table-column"),p=(0,n.up)("el-table"),_=(0,n.up)("el-checkbox"),L=(0,n.up)("el-input"),T=(0,n.up)("el-option"),j=(0,n.up)("el-select"),A=(0,n.up)("el-button"),P=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",null,[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{span:6},{default:(0,n.w5)((()=>[(0,n._)("div",null,"全网矿机数量 "+(0,c.zw)(t.param.all_mechines_count),1)])),_:1}),(0,n.Wm)(d,{span:6},{default:(0,n.w5)((()=>[(0,n._)("div",null,"全网算力(V值) "+(0,c.zw)(t.param.all_v),1)])),_:1}),(0,n.Wm)(d,{span:6},{default:(0,n.w5)((()=>[(0,n._)("div",null,"全网质押数量 "+(0,c.zw)((t.param.all_stake_amount/10**12).toFixed(2)),1)])),_:1}),(0,n.Wm)(d,{span:6},{default:(0,n.w5)((()=>[(0,n._)("div",null,"全网有效质押数量 "+(0,c.zw)((t.param.all_right_stake_amount/10**12).toFixed(2)),1)])),_:1})])),_:1}),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{span:6},{default:(0,n.w5)((()=>[(0,n._)("div",null,"参与挖矿账户数 "+(0,c.zw)(t.param.all_owner_count),1)])),_:1}),(0,n.Wm)(d,{span:6},{default:(0,n.w5)((()=>[(0,n._)("div",null,"参与质押有效用户数 "+(0,c.zw)(t.param.all_staker_count),1)])),_:1})])),_:1})])),_:1})]),(0,n.Wm)(r,{gutter:20,style:{"margin-top":"24px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{span:12},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[h,(0,n._)("div",f,[(0,n.Wm)(p,{data:t.top_owners,stripe:"",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"name",label:"名称",width:"120","show-overflow-tooltip":!0}),(0,n.Wm)(s,{prop:"addr",label:"地址","show-overflow-tooltip":!0}),(0,n.Wm)(s,{prop:"v",label:"总算力(V值)",width:"100"}),(0,n.Wm)(s,{prop:"percent",label:"全网占比",width:"100"})])),_:1},8,["data"])])])),_:1})])),_:1}),(0,n.Wm)(d,{span:12},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n._)("div",w,[v,(0,n.Wm)(p,{data:t.top_stakers,stripe:"",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"name",label:"名称",width:"120","show-overflow-tooltip":!0}),(0,n.Wm)(s,{prop:"addr",label:"地址","show-overflow-tooltip":!0}),(0,n.Wm)(s,{prop:"amount",label:"总金额(pha)",width:"100"}),(0,n.Wm)(s,{prop:"percent",label:"全网占比",width:"100"})])),_:1},8,["data"])])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{span:12},{default:(0,n.w5)((()=>[g,b])),_:1}),(0,n.Wm)(d,{span:12},{default:(0,n.w5)((()=>[y,k])),_:1})])),_:1}),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{span:12},{default:(0,n.w5)((()=>[W,x])),_:1}),(0,n.Wm)(d,{span:12},{default:(0,n.w5)((()=>[F,S])),_:1})])),_:1}),V,(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{modelValue:t.mechine_condition.use_pid,"onUpdate:modelValue":a[0]||(a[0]=a=>t.mechine_condition.use_pid=a)},{default:(0,n.w5)((()=>[O])),_:1},8,["modelValue"]),E,(0,n.Wm)(L,{modelValue:t.mechine_condition.pid,"onUpdate:modelValue":a[1]||(a[1]=a=>t.mechine_condition.pid=a),style:{width:"200px"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(u,{style:{"margin-left":"24px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{modelValue:t.mechine_condition.use_status,"onUpdate:modelValue":a[2]||(a[2]=a=>t.mechine_condition.use_status=a)},{default:(0,n.w5)((()=>[M])),_:1},8,["modelValue"]),z,(0,n.Wm)(j,{modelValue:t.mechine_condition.status,"onUpdate:modelValue":a[3]||(a[3]=a=>t.mechine_condition.status=a),placeholder:"请选择"},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{key:"0",label:"机器状态正常",value:"0"}),(0,n.Wm)(T,{key:"1",label:"机器状态异常",value:"1"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(u,{style:{"margin-left":"24px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{modelValue:t.mechine_condition.use_pubkey,"onUpdate:modelValue":a[4]||(a[4]=a=>t.mechine_condition.use_pubkey=a)},{default:(0,n.w5)((()=>[U])),_:1},8,["modelValue"]),C,(0,n.Wm)(L,{modelValue:t.mechine_condition.pubkey,"onUpdate:modelValue":a[5]||(a[5]=a=>t.mechine_condition.pubkey=a),style:{width:"200px"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(A,{type:"primary",style:{"margin-left":"24px","margin-top":"18px"},onClick:o.OnSearchMechine},{default:(0,n.w5)((()=>[D])),_:1},8,["onClick"])])),_:1}),(0,n.Wm)(p,{data:t.mechine_table.data,stripe:"",style:{width:"100%","margin-top":"12px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"name",label:"name","show-overflow-tooltip":!0,width:"180"}),(0,n.Wm)(s,{prop:"pid",label:"pid",width:"80"}),(0,n.Wm)(s,{prop:"p_init",label:"p_init",width:"80"}),(0,n.Wm)(s,{prop:"pubkey",label:"pubkey","show-overflow-tooltip":!0,"min-width":"180"}),(0,n.Wm)(s,{prop:"stake_amount",label:"stake_amount"}),(0,n.Wm)(s,{prop:"start_time",label:"start_time"}),(0,n.Wm)(s,{prop:"status_now",label:"status_now"}),(0,n.Wm)(s,{prop:"update_time",label:"update_time"})])),_:1},8,["data"]),(0,n.Wm)(P,{onSizeChange:o.mechine_table_size_change,onCurrentChange:o.mechine_table_cur_change,"current-page":t.mechine_table.cur_page,"page-size":10,layout:"total, prev, pager, next",total:t.mechine_table.count,background:"",style:{"justify-content":"center"}},null,8,["onSizeChange","onCurrentChange","current-page","total"])])}var T=e(2602),j=e.n(T),A=e(127),P={name:"HelloWorld",props:{msg:String},data:function(){return{mechine_table:{count:0,data:[],cur_page:1},top_owners:[],top_stakers:[],param:{all_mechines_count:0,all_v:0,all_stake_amount:0,all_right_stake_amount:0,all_owner_count:0,all_staker_count:0},echarts_data:{v_data:{label_data:[],value_data:[]},stake_data:{label_data:[],value_data1:[],value_data2:[]}},mechine_condition:{use_pid:!1,pid:"1",use_status:!1,status:"0",use_pubkey:!1,pubkey:"0x"}}},methods:{FlushTop10Owner:function(){let t=this;j().get("/rest/get_top10_owner").then((function(a){a=a.data,t.top_owners=[];for(var e=0;e<a.data.length;e++)t.top_owners.push({addr:a.data[e]["addr"],name:a.data[e]["name"],percent:(100*a.data[e]["percent"]).toFixed(2)+"%",v:a.data[e]["v"]})}))},FlushTop10Staker:function(){let t=this;j().get("/rest/get_top10_staker").then((function(a){a=a.data,t.top_stakers=[];for(var e=0;e<a.data.length;e++)t.top_stakers.push({addr:a.data[e]["addr"],name:a.data[e]["name"],percent:(100*a.data[e]["percent"]).toFixed(2)+"%",amount:(a.data[e]["amount"]/10**12).toFixed(0)})}))},FlushParam:function(){let t=this;j().get("/rest/get_param").then((function(a){a=a.data,t.param=a.data}))},FlushVEchart:function(){var t,a=document.getElementById("v-charts"),e=A.S1(a),l=this;j().get("/rest/get_latest_daily_v").then((function(a){l.echarts_data.v_data.label_data=a.data.data.label_data,l.echarts_data.v_data.value_data=a.data.data.value_data,t={xAxis:{type:"category",data:l.echarts_data.v_data.label_data},yAxis:{type:"value"},tooltip:{trigger:"axis"},grid:{left:"1%",right:"4%",top:"20px",bottom:"3%",containLabel:!0},series:[{data:l.echarts_data.v_data.value_data,type:"line",smooth:!0}]},t&&e.setOption(t)}))},FlushStakeEchart:function(){var t,a=document.getElementById("stake-charts"),e=A.S1(a),l=this;j().get("/rest/get_latest_daily_stake").then((function(a){l.echarts_data.stake_data.label_data=a.data.data.label_data,l.echarts_data.stake_data.value_data1=a.data.data.value_data1,l.echarts_data.stake_data.value_data2=a.data.data.value_data2;for(var n=0;n<l.echarts_data.stake_data.value_data1.length;n++)l.echarts_data.stake_data.value_data1[n]=l.echarts_data.stake_data.value_data1[n]/10**12/10**7,l.echarts_data.stake_data.value_data2[n]=l.echarts_data.stake_data.value_data2[n]/10**12/10**7;t={xAxis:{type:"category",data:l.echarts_data.stake_data.label_data},yAxis:{type:"value"},tooltip:{trigger:"axis",formatter:t=>t[0].name+"</br>"+t[0].marker+"总质押量:"+t[0].data.toFixed(2)+"kw</br>"+t[1].marker+"使用的质押量:"+t[1].data.toFixed(2)+"kw</br>"},grid:{left:"1%",right:"4%",top:"20px",bottom:"3%",containLabel:!0},series:[{data:l.echarts_data.stake_data.value_data1,type:"line",smooth:!0},{data:l.echarts_data.stake_data.value_data2,type:"line",smooth:!0}]},t&&e.setOption(t)}))},FlushMechineEchart:function(){var t,a=document.getElementById("mechine-charts"),e=A.S1(a),l=this;j().get("/rest/get_latest_daily_mechine_count").then((function(a){l.echarts_data.v_data.label_data=a.data.data.label_data,l.echarts_data.v_data.value_data=a.data.data.value_data,t={xAxis:{type:"category",data:l.echarts_data.v_data.label_data},yAxis:{type:"value"},tooltip:{trigger:"axis"},grid:{left:"1%",right:"4%",top:"20px",bottom:"3%",containLabel:!0},series:[{data:l.echarts_data.v_data.value_data,type:"line",smooth:!0}]},t&&e.setOption(t)}))},FlushMechineUserEchart:function(){var t,a=document.getElementById("owner-charts"),e=A.S1(a),l=this;j().get("/rest/get_latest_daily_mechine_user_count").then((function(a){l.echarts_data.v_data.label_data=a.data.data.label_data,l.echarts_data.v_data.value_data=a.data.data.value_data,t={xAxis:{type:"category",data:l.echarts_data.v_data.label_data},yAxis:{type:"value"},tooltip:{trigger:"axis"},grid:{left:"1%",right:"4%",top:"20px",bottom:"3%",containLabel:!0},series:[{data:l.echarts_data.v_data.value_data,type:"line",smooth:!0}]},t&&e.setOption(t)}))},mechine_table_size_change:function(t){console.log("mechine_table_size_change",t)},mechine_table_cur_change:function(t){this.mechine_table.cur_page=t,this.OnSearchMechine()},OnSearchMechine:function(){var t="/rest/get_mechines/";t+=1==this.mechine_condition.use_pid?this.mechine_condition.pid:"-",t+="/",t+=1==this.mechine_condition.use_status?this.mechine_condition.status:"-",t+="/",t+=1==this.mechine_condition.use_pubkey?this.mechine_condition.pubkey:"-",t+="/",t+=this.mechine_table.cur_page;var a=this;j().get(t).then((function(t){t=t.data;for(var e=0;e<t.data.length;e++)t.data[e].stake_amount=t.data[e].stake_amount/10**12,t.data[e].start_time=new Date(1e3*t.data[e].start_time).toLocaleString().replace(/:\d{1,2}$/," "),t.data[e].update_time=new Date(1e3*t.data[e].update_time).toLocaleString().replace(/:\d{1,2}$/," ");a.mechine_table.data=t.data,a.mechine_table.count=t.count})),console.log(t)}},mounted:function(){console.log("?????"),this.FlushTop10Owner(),this.FlushTop10Staker(),this.FlushParam(),this.FlushVEchart(),this.FlushStakeEchart(),this.FlushMechineEchart(),this.FlushMechineUserEchart()}};const $=(0,r.Z)(P,[["render",L]]);var I=$;const B={class:"hello",style:{"min-width":"1450px"}},Z=(0,n._)("div",null,"异常的pid：",-1),H={style:{color:"#f00"}},q=(0,n._)("div",null,"特别关注中的异常机器",-1),G=(0,n._)("div",null,"所有的异常机器",-1);function J(t,a,e,l,i,o){const d=(0,n.up)("el-row"),r=(0,n.up)("el-table-column"),u=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",B,[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[Z,(0,n._)("div",H,(0,c.zw)(t.error_pid),1)])),_:1}),q,(0,n.Wm)(u,{data:t.special_mechines,stripe:"",style:{width:"100%","margin-top":"12px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{prop:"name",label:"name","show-overflow-tooltip":!0,width:"180"}),(0,n.Wm)(r,{prop:"pid",label:"pid",width:"80"}),(0,n.Wm)(r,{prop:"p_init",label:"p_init",width:"80"}),(0,n.Wm)(r,{prop:"pubkey",label:"pubkey","show-overflow-tooltip":!0,"min-width":"180"}),(0,n.Wm)(r,{prop:"stake_amount",label:"stake_amount"}),(0,n.Wm)(r,{prop:"start_time",label:"start_time"}),(0,n.Wm)(r,{prop:"status_now",label:"status_now"}),(0,n.Wm)(r,{prop:"update_time",label:"最后查询时间"})])),_:1},8,["data"]),G,(0,n.Wm)(u,{data:t.mechines,stripe:"",style:{width:"100%","margin-top":"12px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{prop:"name",label:"name","show-overflow-tooltip":!0,width:"180"}),(0,n.Wm)(r,{prop:"pid",label:"pid",width:"80"}),(0,n.Wm)(r,{prop:"p_init",label:"p_init",width:"80"}),(0,n.Wm)(r,{prop:"pubkey",label:"pubkey","show-overflow-tooltip":!0,"min-width":"180"}),(0,n.Wm)(r,{prop:"stake_amount",label:"stake_amount"}),(0,n.Wm)(r,{prop:"start_time",label:"start_time"}),(0,n.Wm)(r,{prop:"status_now",label:"status_now"}),(0,n.Wm)(r,{prop:"update_time",label:"最后查询时间"})])),_:1},8,["data"])])}var K={name:"HelloWorld",props:{msg:String},data:function(){return{error_pid:"",special_mechines:[],mechines:[]}},methods:{FlushErrorPid:function(){let t=this;j().get("/rest/get_bml_error_pid").then((function(a){a=a.data;for(var e=0;e<a.data.length;e++)t.error_pid+=a.data[e]+","}))},FlushSpecialMechines:function(){var t=this;j().get("/rest/get_bml_special_error_mechine").then((function(a){a=a.data;for(var e=0;e<a.data.length;e++)a.data[e].stake_amount=a.data[e].stake_amount/10**12,a.data[e].start_time=new Date(1e3*a.data[e].start_time).toLocaleString().replace(/:\d{1,2}$/," "),a.data[e].update_time=new Date(1e3*a.data[e].update_time).toLocaleString().replace(/:\d{1,2}$/," ");t.special_mechines=a.data}))},FlushMechines:function(){var t=this;j().get("/rest/get_bml_error_mechine").then((function(a){a=a.data;for(var e=0;e<a.data.length;e++)a.data[e].stake_amount=a.data[e].stake_amount/10**12,a.data[e].start_time=new Date(1e3*a.data[e].start_time).toLocaleString().replace(/:\d{1,2}$/," "),a.data[e].update_time=new Date(1e3*a.data[e].update_time).toLocaleString().replace(/:\d{1,2}$/," ");t.mechines=a.data}))}},mounted:function(){this.FlushErrorPid(),this.FlushSpecialMechines(),this.FlushMechines()}};const N=(0,r.Z)(K,[["render",J]]);var Q=N;const R=[{path:"/",component:I},{path:"/board",component:Q}],X=(0,_.p7)({history:(0,_.r5)(),routes:R}),Y=(0,l.ri)(s);Y.use(p.Z),Y.use(X),Y.mount("#app")}},a={};function e(l){var n=a[l];if(void 0!==n)return n.exports;var i=a[l]={exports:{}};return t[l].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(a,l,n,i){if(!l){var o=1/0;for(s=0;s<t.length;s++){l=t[s][0],n=t[s][1],i=t[s][2];for(var d=!0,r=0;r<l.length;r++)(!1&i||o>=i)&&Object.keys(e.O).every((function(t){return e.O[t](l[r])}))?l.splice(r--,1):(d=!1,i<o&&(o=i));if(d){t.splice(s--,1);var u=n();void 0!==u&&(a=u)}}return a}i=i||0;for(var s=t.length;s>0&&t[s-1][2]>i;s--)t[s]=t[s-1];t[s]=[l,n,i]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(a){return 0===t[a]};var a=function(a,l){var n,i,o=l[0],d=l[1],r=l[2],u=0;if(o.some((function(a){return 0!==t[a]}))){for(n in d)e.o(d,n)&&(e.m[n]=d[n]);if(r)var s=r(e)}for(a&&a(l);u<o.length;u++)i=o[u],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(s)},l=self["webpackChunkphala"]=self["webpackChunkphala"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=e.O(void 0,[998],(function(){return e(6766)}));l=e.O(l)})();
//# sourceMappingURL=app.fc3893b8.js.map